<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>CART | LALA BOUTIQUE</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400&family=Noto+Sans+KR:wght@100;300;400&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; outline: none; }
        body { background: #fcfcfc; font-family: 'Noto Sans KR', sans-serif; color: #111; -webkit-font-smoothing: antialiased; }
        
        header { height: 100px; display: flex; justify-content: center; align-items: center; cursor: pointer; background: #fff; border-bottom: 1px solid #f2f2f2; }
        .logo { font-family: 'Cormorant Garamond', serif; font-size: 24px; letter-spacing: 12px; text-transform: uppercase; font-weight: 300; margin-right: -12px; }

        .container { max-width: 1100px; margin: 60px auto; padding: 0 20px; }
        .page-title { font-family: 'Cormorant Garamond', serif; font-size: 28px; text-align: center; letter-spacing: 5px; margin-bottom: 50px; font-weight: 300; }

        .cart-table { width: 100%; border-collapse: collapse; margin-bottom: 40px; }
        .cart-table th { border-bottom: 1px solid #222; padding: 15px 0; font-size: 12px; font-weight: 400; color: #555; text-transform: uppercase; }
        .cart-table td { padding: 25px 0; border-bottom: 1px solid #eee; text-align: center; vertical-align: middle; }

        .prod-info { display: flex; align-items: center; gap: 20px; text-align: left; }
        .prod-info img { width: 80px; aspect-ratio: 9/12; object-fit: cover; background: #f9f9f9; }
        .prod-info .name { font-size: 14px; color: #111; }

        .qty-control { display: flex; align-items: center; justify-content: center; gap: 10px; }
        .qty-control button { width: 25px; height: 25px; border: 1px solid #ddd; background: #fff; cursor: pointer; }
        .qty-control span { font-size: 14px; min-width: 20px; }

        .price { font-size: 14px; }

        .total-area { background: #f9f9f9; padding: 30px; display: flex; justify-content: flex-end; align-items: center; gap: 50px; margin-top: 20px; }
        .total-item { font-size: 14px; color: #666; }
        .total-item span { font-size: 18px; color: #000; font-weight: 500; margin-left: 10px; }

        .btn-box { display: flex; justify-content: center; gap: 15px; margin-top: 50px; }
        .btn-box button, .btn-box a { width: 220px; height: 55px; line-height: 55px; text-align: center; font-size: 12px; cursor: pointer; text-decoration: none; transition: 0.3s; letter-spacing: 1px; }
        
        .btn-white { border: 1px solid #000; background: #fff; color: #000; }
        .btn-black { border: 1px solid #000; background: #000; color: #fff; }
        .btn-black:hover { background: #333; }

        .btn-del-sm { padding: 5px 10px; font-size: 11px; border: 1px solid #ddd; background: #fff; cursor: pointer; color: #999; }
        .btn-del-sm:hover { color: #000; border-color: #999; }

        /* 빈 장바구니 영역 스타일 수정 */
        #empty-area { text-align: center; padding: 100px 0; }
        .empty-msg { color: #999; font-size: 14px; margin-bottom: 30px; }
        .btn-go-home { display: inline-block; width: 200px; height: 50px; line-height: 50px; border: 1px solid #000; color: #000; text-decoration: none; font-size: 12px; letter-spacing: 1px; transition: 0.3s; }
        .btn-go-home:hover { background: #000; color: #fff; }

        footer { padding: 60px 0; text-align: center; font-size: 10px; color: #ccc; letter-spacing: 1px; }
    </style>
</head>
<body>
    <header onclick="location.href='index.html'"><div class="logo">lala boutique</div></header>

    <div class="container">
        <h1 class="page-title">SHOPPING CART</h1>
        
        <div id="cart-content">
            <table class="cart-table">
                <thead>
                    <tr>
                        <th width="45%">상품 정보</th>
                        <th width="15%">판매가</th>
                        <th width="15%">수량</th>
                        <th width="15%">합계</th>
                        <th width="10%">선택</th>
                    </tr>
                </thead>
                <tbody id="cart-items"></tbody>
            </table>

            <div class="total-area">
                <div class="total-item">총 주문 금액 <span id="total-price">₩ 0</span></div>
            </div>

            <div class="btn-box">
                <a href="index.html" class="btn-white">쇼핑 계속하기</a>
                <button class="btn-black" onclick="alert('주문 단계로 이동합니다.')">전체 상품 주문</button>
            </div>
        </div>

        <div id="empty-area" style="display: none;">
            <p class="empty-msg">장바구니에 담긴 상품이 없습니다.</p>
            <a href="index.html" class="btn-go-home">쇼핑하러 가기</a>
        </div>
    </div>

    <footer>© 2026 LALA BOUTIQUE. ALL RIGHTS RESERVED.</footer>

<script>
    /**
     * 장바구니 화면 업데이트 및 합계 계산
     */
    function renderCart() {
        const cartList = JSON.parse(localStorage.getItem('c_l')) || [];
        const container = document.getElementById('cart-items');
        const cartContent = document.getElementById('cart-content');
        const emptyArea = document.getElementById('empty-area');
        const totalPriceEl = document.getElementById('total-price');

        // 장바구니가 비었을 경우의 처리
        if (cartList.length === 0) {
            cartContent.style.display = 'none';
            emptyArea.style.display = 'block';
            return;
        }

        // 장바구니에 상품이 있을 경우
        cartContent.style.display = 'block';
        emptyArea.style.display = 'none';
        container.innerHTML = '';
        let total = 0;

        cartList.forEach((item, index) => {
            const itemQty = item.qty || 1;
            const itemTotal = item.p * itemQty;
            total += itemTotal;

            container.innerHTML += `
                <tr>
                    <td>
                        <div class="prod-info">
                            <img src="${item.img}" alt="${item.n}" onerror="this.src='https://via.placeholder.com/80/f8f8f8/ccc?text=LALA'">
                            <span class="name">${item.n}</span>
                        </div>
                    </td>
                    <td class="price">₩ ${item.p.toLocaleString()}</td>
                    <td>
                        <div class="qty-control">
                            <button onclick="changeQty(${index}, -1)">-</button>
                            <span>${itemQty}</span>
                            <button onclick="changeQty(${index}, 1)">+</button>
                        </div>
                    </td>
                    <td class="price" style="font-weight:500;">₩ ${itemTotal.toLocaleString()}</td>
                    <td>
                        <button class="btn-del-sm" onclick="removeItem(${index})">삭제</button>
                    </td>
                </tr>
            `;
        });

        totalPriceEl.innerText = `₩ ${total.toLocaleString()}`;
    }

    /**
     * 수량 조절 (로컬 스토리지 업데이트)
     */
    function changeQty(index, delta) {
        let cartList = JSON.parse(localStorage.getItem('c_l')) || [];
        if(!cartList[index].qty) cartList[index].qty = 1;
        
        cartList[index].qty += delta;
        if (cartList[index].qty < 1) cartList[index].qty = 1;
        
        localStorage.setItem('c_l', JSON.stringify(cartList));
        renderCart();
    }

    /**
     * 장바구니 품목 삭제
     */
    function removeItem(index) {
        let cartList = JSON.parse(localStorage.getItem('c_l')) || [];
        if(confirm("해당 상품을 장바구니에서 삭제하시겠습니까?")) {
            cartList.splice(index, 1);
            localStorage.setItem('c_l', JSON.stringify(cartList));
            renderCart();
        }
    }

    // 페이지 로딩 시 장바구니 리스트 호출
    window.onload = renderCart;
</script>
</body>
</html>